ø
`D:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Repository\ProductRepository.cs
	namespace 	

ProductApi
 
. 

Repository 
{ 
public 

class 
ProductRepository "
:# $
IProductRepository% 7
{ 
private 
readonly  
ApplicationDBContext -
_context. 6
;6 7
public

 
ProductRepository

  
(

  ! 
ApplicationDBContext

! 5
context

6 =
)

= >
{ 	
_context 
= 
context 
; 
} 	
public 
IEnumerable 
< 
Product "
>" #
GetAll$ *
(* +
)+ ,
=>- /
_context0 8
.8 9
Products9 A
.A B
ToListB H
(H I
)I J
;J K
public 
Product 
GetById 
( 
int "
id# %
)% &
=>' )
_context* 2
.2 3
Products3 ;
.; <
Find< @
(@ A
idA C
)C D
;D E
public 
void 
Add 
( 
Product 
product  '
)' (
=>) +
_context, 4
.4 5
Products5 =
.= >
Add> A
(A B
productB I
)I J
;J K
public 
void 
Update 
( 
Product "
product# *
)* +
=>, .
_context/ 7
.7 8
Products8 @
.@ A
UpdateA G
(G H
productH O
)O P
;P Q
public 
void 
Delete 
( 
Product "
product# *
)* +
=>, .
_context/ 7
.7 8
Products8 @
.@ A
RemoveA G
(G H
productH O
)O P
;P Q
public 
void 
Save 
( 
) 
=> 
_context &
.& '
SaveChanges' 2
(2 3
)3 4
;4 5
} 
} „
aD:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Repository\IProductRepository.cs
	namespace 	

ProductApi
 
. 

Repository 
{ 
public 

	interface 
IProductRepository '
{ 
IEnumerable 
< 
Product 
> 
GetAll #
(# $
)$ %
;% &
Product 
GetById 
( 
int 
id 
) 
;  
void		 
Add		 
(		 
Product		 
product		  
)		  !
;		! "
void

 
Update

 
(

 
Product

 
product

 #
)

# $
;

$ %
void 
Delete 
( 
Product 
product #
)# $
;$ %
void 
Save 
( 
) 
; 
} 
} ·
KD:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
var

 
connStr

 
=

 
builder

 
.

 
Configuration

 #
.

# $
GetConnectionString

$ 7
(

7 8
$str

8 K
)

K L
;

L M
builder 
. 
Services 
. 
AddDbContext 
<  
ApplicationDBContext 2
>2 3
(3 4
options4 ;
=>< >
options 
. 
UseMySql 
( 
connStr 
, 
ServerVersion +
.+ ,

AutoDetect, 6
(6 7
connStr7 >
)> ?
)? @
)@ A
;A B
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
	AddScoped 
< 
IProductRepository -
,- .
ProductRepository/ @
>@ A
(A B
)B C
;C D
var 
app 
= 	
builder
 
. 
Build 
( 
) 
; 
if 
( 
app 
. 
Environment 
. 
IsDevelopment !
(! "
)" #
)# $
{ 
app 
. 

UseSwagger 
( 
) 
; 
app 
. 
UseSwaggerUI 
( 
) 
; 
} 
app 
. 
UseHttpsRedirection 
( 
) 
; 
app 
. 
UseAuthorization 
( 
) 
; 
app 
. 
MapControllers 
( 
) 
; 
app   
.   
Run   
(   
)   	
;  	 
ö
QD:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Model\Product.cs
	namespace 	

ProductApi
 
. 
Model 
{ 
public 

class 
Product 
{ 
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
[

 	
Required

	 
(

 
ErrorMessage

 
=

  
$str

! 3
)

3 4
]

4 5
public 
string 
? 
Name 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Range	 
( 
$num 
, 
double 
. 
MaxValue $
,$ %
ErrorMessage& 2
=3 4
$str5 V
)V W
]W X
public 
decimal 
Price 
{ 
get "
;" #
set$ '
;' (
}) *
[ 	
	MaxLength	 
( 
$num 
, 
ErrorMessage $
=% &
$str' Q
)Q R
]R S
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
} 
} £
bD:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Migrations\20250801083405_init.cs
	namespace 	
ProductApplication
 
. 

Migrations '
{ 
public		 

partial		 
class		 
init		 
:		 
	Migration		  )
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterDatabase *
(* +
)+ ,
. 

Annotation 
( 
$str +
,+ ,
$str- 6
)6 7
;7 8
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ C
,C D(
MySqlValueGenerationStrategyE a
.a b
IdentityColumnb p
)p q
,q r
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 @
,@ A
nullableB J
:J K
falseL Q
)Q R
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
,? @
Price 
= 
table !
.! "
Column" (
<( )
decimal) 0
>0 1
(1 2
type2 6
:6 7
$str8 H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= K
,K L
	maxLengthM V
:V W
$numX [
,[ \
nullable] e
:e f
trueg k
)k l
. 

Annotation #
(# $
$str$ 3
,3 4
$str5 >
)> ?
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Id; =
)= >
;> ?
}   
)   
.!! 

Annotation!! 
(!! 
$str!! +
,!!+ ,
$str!!- 6
)!!6 7
;!!7 8
}"" 	
	protected%% 
override%% 
void%% 
Down%%  $
(%%$ %
MigrationBuilder%%% 5
migrationBuilder%%6 F
)%%F G
{&& 	
migrationBuilder'' 
.'' 
	DropTable'' &
(''& '
name(( 
:(( 
$str((  
)((  !
;((! "
})) 	
}** 
}++ ¿(
cD:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Controllers\ProductDbController.cs
	namespace 	

ProductApi
 
. 
Controllers  
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public		 

class		 
ProductDbController		 $
:		% &
ControllerBase		' 5
{

 
private 
readonly 
IProductRepository +
_repository, 7
;7 8
public 
ProductDbController "
(" #
IProductRepository# 5

repository6 @
)@ A
{ 	
_repository 
= 

repository $
;$ %
} 	
[ 	
HttpGet	 
] 
public 
ActionResult 
< 
IEnumerable '
<' (
Product( /
>/ 0
>0 1
GetProducts2 =
(= >
)> ?
{ 	
return 
Ok 
( 
_repository !
.! "
GetAll" (
(( )
)) *
)* +
;+ ,
} 	
[ 	
HttpPost	 
] 
public 
ActionResult 
< 
Product #
># $
CreateProduct% 2
(2 3
Product3 :
product; B
)B C
{ 	
_repository 
. 
Add 
( 
product #
)# $
;$ %
_repository 
. 
Save 
( 
) 
; 
return 
Ok 
( 
product 
) 
; 
} 	
[   	
HttpGet  	 
(   
$str   
)   
]   
public!! 
ActionResult!! 
<!! 
Product!! #
>!!# $

GetProduct!!% /
(!!/ 0
int!!0 3
id!!4 6
)!!6 7
{"" 	
var## 
product## 
=## 
_repository## %
.##% &
GetById##& -
(##- .
id##. 0
)##0 1
;##1 2
return$$ 
product$$ 
==$$ 
null$$ "
?$$# $
NotFound$$% -
($$- .
)$$. /
:$$0 1
Ok$$2 4
($$4 5
product$$5 <
)$$< =
;$$= >
}%% 	
['' 	
HttpPut''	 
('' 
$str'' 
)'' 
]'' 
public(( 
ActionResult(( 
<(( 
Product(( #
>((# $
UpdateProduct((% 2
(((2 3
int((3 6
id((7 9
,((9 :
Product((; B
updated((C J
)((J K
{)) 	
var** 
existing** 
=** 
_repository** &
.**& '
GetById**' .
(**. /
id**/ 1
)**1 2
;**2 3
if++ 
(++ 
existing++ 
==++ 
null++  
)++  !
return++" (
NotFound++) 1
(++1 2
)++2 3
;++3 4
existing-- 
.-- 
Name-- 
=-- 
updated-- #
.--# $
Name--$ (
;--( )
existing.. 
... 
Price.. 
=.. 
updated.. $
...$ %
Price..% *
;..* +
existing// 
.// 
Description//  
=//! "
updated//# *
.//* +
Description//+ 6
;//6 7
_repository11 
.11 
Update11 
(11 
existing11 '
)11' (
;11( )
_repository22 
.22 
Save22 
(22 
)22 
;22 
return33 
Ok33 
(33 
existing33 
)33 
;33  
}44 	
[66 	

HttpDelete66	 
(66 
$str66 
)66 
]66 
public77 
ActionResult77 
<77 
Product77 #
>77# $
DeleteProduct77% 2
(772 3
int773 6
id777 9
)779 :
{88 	
var99 
product99 
=99 
_repository99 %
.99% &
GetById99& -
(99- .
id99. 0
)990 1
;991 2
if:: 
(:: 
product:: 
==:: 
null:: 
)::  
return::! '
NotFound::( 0
(::0 1
)::1 2
;::2 3
_repository<< 
.<< 
Delete<< 
(<< 
product<< &
)<<& '
;<<' (
_repository== 
.== 
Save== 
(== 
)== 
;== 
return>> 
Ok>> 
(>> 
product>> 
)>> 
;>> 
}?? 	
}@@ 
}AA Ú
\D:\GitAssesment\CodeReview\ProductApplication\ProductApplication\Data\ApplicationDBContex.cs
	namespace 	

ProductApi
 
. 
Data 
{ 
public 

class  
ApplicationDBContext %
:& '
	DbContext( 1
{ 
public 
DbSet 
< 
Product 
> 
Products &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public

  
ApplicationDBContext

 #
(

# $
DbContextOptions

$ 4
<

4 5 
ApplicationDBContext

5 I
>

I J
options

K R
)

R S
: 
base 
( 
options 
) 
{ 	
} 	
} 
} 